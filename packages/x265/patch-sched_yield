--- source/common/threading.h
+++ source/common/threading.h
@@ -68,7 +68,7 @@
 #elif __GNUC__               /* GCCs builtin atomics */
 
 #include <sys/time.h>
-#include <unistd.h>
+#include <sched.h>
 
 #define CLZ(id, x)            id = (unsigned long)__builtin_clz(x) ^ 31
 #define CTZ(id, x)            id = (unsigned long)__builtin_ctz(x)
@@ -77,7 +77,7 @@
 #define ATOMIC_INC(ptr)       __sync_add_and_fetch((volatile int32_t*)ptr, 1)
 #define ATOMIC_DEC(ptr)       __sync_add_and_fetch((volatile int32_t*)ptr, -1)
 #define ATOMIC_ADD(ptr, val)  __sync_fetch_and_add((volatile int32_t*)ptr, val)
-#define GIVE_UP_TIME()        usleep(0)
+#define GIVE_UP_TIME()        sched_yield()
 
 #elif defined(_MSC_VER)       /* Windows atomic intrinsics */
 
