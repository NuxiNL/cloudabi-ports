--- src/connection_wrap.cc
+++ src/connection_wrap.cc
@@ -1,6 +1,8 @@
 #include "connection_wrap.h"
 
+#ifndef __CloudABI__
 #include "connect_wrap.h"
+#endif
 #include "env-inl.h"
 #include "env.h"
 #include "pipe_wrap.h"
@@ -73,6 +75,7 @@
 }
 
 
+#ifndef __CloudABI__
 template <typename WrapType, typename UVType>
 void ConnectionWrap<WrapType, UVType>::AfterConnect(uv_connect_t* req,
                                                     int status) {
@@ -110,6 +113,7 @@
 
   delete req_wrap;
 }
+#endif
 
 template ConnectionWrap<PipeWrap, uv_pipe_t>::ConnectionWrap(
     Environment* env,
@@ -127,11 +131,13 @@
 template void ConnectionWrap<TCPWrap, uv_tcp_t>::OnConnection(
     uv_stream_t* handle, int status);
 
+#ifndef __CloudABI__
 template void ConnectionWrap<PipeWrap, uv_pipe_t>::AfterConnect(
     uv_connect_t* handle, int status);
 
 template void ConnectionWrap<TCPWrap, uv_tcp_t>::AfterConnect(
     uv_connect_t* handle, int status);
+#endif
 
 
 }  // namespace node
--- src/connection_wrap.h
+++ src/connection_wrap.h
@@ -17,7 +17,9 @@
   }
 
   static void OnConnection(uv_stream_t* handle, int status);
+#ifndef __CloudABI__
   static void AfterConnect(uv_connect_t* req, int status);
+#endif
 
  protected:
   ConnectionWrap(Environment* env,
